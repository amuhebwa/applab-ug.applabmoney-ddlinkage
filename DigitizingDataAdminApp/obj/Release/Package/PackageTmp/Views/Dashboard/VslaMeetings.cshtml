@model DigitizingDataAdminApp.Models.AllVslaMeetingInformation
@using GridMvc.Html
@{
    Layout = "~/Views/Shared/_CustomLayout.cshtml";
    ViewBag.Title = "VslaMeetings";
}

<h4><strong>All VSLA Meetings For @Model.vslaName</strong></h4>
<p>
    <a href="@Url.Action("ExportVSLAMeetingsToCSV", "Dashboard", new { id = @Model.vslaId, fileName = @Model.vslaName })">
        <strong>Export to CSV</strong>
    </a>
    |
    <strong>@Html.ActionLink("Back to VSLAs", "VslaData")</strong>
</p>
<div style="width: auto; min-width: 900px; margin: 0 auto;">
    @* @Html.Grid(Model.allVslaMeetings).Columns(columns =>
                    {
                        columns.Add(c => c.formattedMeetingDate).Titled("Date");
                        columns.Add(c => c.membersPresent).Titled("Members Present");
                        columns.Add(c => c.cashFines).Titled("Fines");
                        columns.Add(c => c.totalSavings).Titled("Amount Saved");
                        columns.Add(c => c.totalLoans).Titled("Total Loans");
                        columns.Add(c => c.totalLoanRepayment).Titled("Loan Outstanding");
                        columns.Add().Titled("Details").Encoded(false).Sanitized(false).RenderValueAs(c => @<a href="@Url.Action("SingleMeetingDetails", "Dashboard", new { id = c.MeetingId })">
                            <img  src="@Url.Content("~/Content/Images/details.png")"/></a>);
                    }).WithPaging(30).Sortable(true)*@
    <table class="display" style="width: 100%;" id="data-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Members Present</th>
                <th>Fines</th>
                <th>Amount Saved</th>
                <th>Total Loans</th>
                <th>Loan Outstanding</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.allVslaMeetings) { 
                <tr>
                    <td>@item.MeetingId</td>
                    <td>@item.formattedMeetingDate</td>
                    <td>@item.membersPresent</td>
                    <td>@item.cashFines</td>
                    <td>@item.totalSavings</td>
                    <td>@item.totalLoans</td>
                    <td>@item.totalLoanRepayment</td>
                    <td><a href="@Url.Action("SingleMeetingDetails", "Dashboard", new { id = item.MeetingId })">
                        <img  src="@Url.Content("~/Content/Images/details.png")"/></a></td>
                </tr>
            }
        </tbody>
    </table>
</div>
